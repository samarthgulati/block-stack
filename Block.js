"use strict";var _slicedToArray=function(){function a(c,d){var e=[],f=!0,g=!1,j=void 0;try{for(var m,k=c[Symbol.iterator]();!(f=(m=k.next()).done)&&(e.push(m.value),!(d&&e.length===d));f=!0);}catch(n){g=!0,j=n}finally{try{!f&&k["return"]&&k["return"]()}finally{if(g)throw j}}return e}return function(c,d){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return a(c,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function a(c,d){for(var f,e=0;e<d.length;e++)f=d[e],f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}return function(c,d,e){return d&&a(c.prototype,d),e&&a(c,e),c}}();function _classCallCheck(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}var Block=function(){function a(_ref){var _ref$x=_ref.x,c=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,d=void 0===_ref$y?0:_ref$y,_ref$z=_ref.z,e=void 0===_ref$z?0:_ref$z,_ref$l=_ref.l,f=void 0===_ref$l?1:_ref$l,_ref$b=_ref.b,g=void 0===_ref$b?1:_ref$b,_ref$h=_ref.h,j=void 0===_ref$h?0:_ref$h,_ref$hue=_ref.hue,k=void 0===_ref$hue?10:_ref$hue,_ref$opacity=_ref.opacity,m=void 0===_ref$opacity?1:_ref$opacity;_classCallCheck(this,a),this.x=c,this.y=d,this.z=e,this.l=f,this.b=g,this.h=j,this.hue=k,this.opacity=m}return _createClass(a,[{key:"update",value:function update(_ref2){var _ref2$x=_ref2.x,c=void 0===_ref2$x?this.x:_ref2$x,_ref2$y=_ref2.y,d=void 0===_ref2$y?this.y:_ref2$y,_ref2$z=_ref2.z,e=void 0===_ref2$z?this.z:_ref2$z,_ref2$l=_ref2.l,f=void 0===_ref2$l?this.l:_ref2$l,_ref2$b=_ref2.b,g=void 0===_ref2$b?this.b:_ref2$b,_ref2$h=_ref2.h,j=void 0===_ref2$h?this.h:_ref2$h,_ref2$hue=_ref2.hue,k=void 0===_ref2$hue?this.hue:_ref2$hue,_ref2$opacity=_ref2.opacity,m=void 0===_ref2$opacity?this.opacity:_ref2$opacity;this.x=c,this.y=d,this.z=e,this.l=f,this.b=g,this.h=j,this.hue=k,this.hue=m}},{key:"_drawTile",value:function _drawTile(c,d,e){grid.ctx.fillStyle="hsla("+this.hue+", 75%, 50%, "+this.opacity+")",grid.ctx.strokeStyle=this._strokeStyle,grid.ctx.lineWidth=1;var _grid$getCoord=grid.getCoord(c,d,e),_grid$getCoord2=_slicedToArray(_grid$getCoord,2),f=_grid$getCoord2[0],g=_grid$getCoord2[1];grid.ctx.beginPath(),grid.ctx.moveTo(f,g),grid.ctx.lineTo(f+grid.hsize,g-grid.qsize),grid.ctx.lineTo(f+grid.size,g),grid.ctx.lineTo(f+grid.hsize,g+grid.qsize),grid.ctx.closePath(),grid.ctx.fill(),grid.ctx.stroke()}},{key:"_drawTop",value:function _drawTop(){for(var c=this.x;c<this.x+this.l;c++)for(var d=this.y;d<this.y+this.b;d++)this._drawTile(c,d,this.z+this.h)}},{key:"_drawLeftWall",value:function _drawLeftWall(c,d,e){grid.ctx.fillStyle="hsla("+this.hue+", 75%, 65%, "+this.opacity+")",grid.ctx.strokeStyle=this._strokeStyle,grid.ctx.lineWidth=1;var _grid$getCoord3=grid.getCoord(c,d,e),_grid$getCoord4=_slicedToArray(_grid$getCoord3,2),f=_grid$getCoord4[0],g=_grid$getCoord4[1];grid.ctx.beginPath(),grid.ctx.moveTo(f,g),grid.ctx.lineTo(f,g-grid.zsize),grid.ctx.lineTo(f+grid.hsize,g+grid.qsize-grid.zsize),grid.ctx.lineTo(f+grid.hsize,g+grid.qsize),grid.ctx.closePath(),grid.ctx.fill(),grid.ctx.stroke()}},{key:"_drawLeft",value:function _drawLeft(){for(var c=this.z;c<this.z+this.h;c++)for(var d=this.y;d<this.y+this.b;d++)this._drawLeftWall(this.x,d,c)}},{key:"_drawRightWall",value:function _drawRightWall(c,d,e){grid.ctx.fillStyle="hsla("+this.hue+", 75%, 35%, "+this.opacity+")",grid.ctx.strokeStyle=this._strokeStyle,grid.ctx.lineWidth=1;var _grid$getCoord5=grid.getCoord(c,d,e),_grid$getCoord6=_slicedToArray(_grid$getCoord5,2),f=_grid$getCoord6[0],g=_grid$getCoord6[1];grid.ctx.beginPath(),grid.ctx.moveTo(f+grid.hsize,g+grid.qsize),grid.ctx.lineTo(f+grid.hsize,g+grid.qsize-grid.zsize),grid.ctx.lineTo(f+grid.size,g-grid.zsize),grid.ctx.lineTo(f+grid.size,g),grid.ctx.closePath(),grid.ctx.fill(),grid.ctx.stroke()}},{key:"_drawRight",value:function _drawRight(){for(var c=this.z;c<this.z+this.h;c++)for(var d=this.x;d<this.x+this.l;d++)this._drawRightWall(d,this.y+this.b-1,c)}},{key:"render",value:function render(){0<this.h&&(this._drawLeft(),this._drawRight()),this._drawTop()}},{key:"_strokeStyle",get:function get(){return"hsla("+this.hue+", 100%, 20%, "+this.opacity+")"}}]),a}();