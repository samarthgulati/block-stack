'use strict';var _extends=Object.assign||function(a){for(var c,b=1;b<arguments.length;b++)for(var d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a},_createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Num=function(){function a(_ref,j){var b=_ref.x,c=_ref.y,d=_ref.w,f=_ref.h,g=_ref.hue;_classCallCheck(this,a),this.id=j,this._x=b,this._y=c,this._w=d,this._h=f,this._hue=g,this._selected=!1,this._area=this.value,this._rect=grid.getBlocks(this._gridProps),this._valueRect=grid.getBlocks(this._valueGridProps),this._shove=new Shove({x:b,y:c,w:d,h:f}),this._addEventListeners(),grid.svg.appendChild(this._valueRect),grid.svg.appendChild(this._rect)}return _createClass(a,[{key:'updateArea',value:function updateArea(){if(1!==this._w){var b=this.value;this._area>b?(this._w=Math.round(this._area/this._h),this._shove.update(this._props),grid.updateBlocks(this._gridProps,this._rect)):this._area=b}else grid.updateBlocks(this._valueGridProps,this._valueRect),this._props={x:this._x,y:this._y,w:1,h:this._area},this._shove.update(this._props),grid.updateBlocks(this._gridProps,this._rect)}},{key:'updateWidth',value:function updateWidth(b){this._w+=b,this._w=Math.max(1,this._w),this._shove.update(this._props),grid.updateBlocks(this._gridProps,this._rect)}},{key:'toggleSelect',value:function toggleSelect(b){b&&b.preventDefault(),this._selected=!this._selected,this._shove.toggleVisibility(),grid.updateBlocks(this._gridProps,this._rect),this._rect.dispatchEvent(new CustomEvent('toggle-select',{bubbles:!0,detail:this.id}))}},{key:'_addEventListeners',value:function _addEventListeners(){this.toggleSelect=this.toggleSelect.bind(this),this._rect.addEventListener('click',this.toggleSelect)}},{key:'value',get:function get(){return this._w*this._h}},{key:'shoveCoords',get:function get(){return this._shove.edgeCoords}},{key:'_props',set:function set(b){this._x=b.x,this._y=b.y,this._w=b.w,this._h=b.h},get:function get(){return{x:this._x,y:this._y,w:this._w,h:this._h}}},{key:'props',get:function get(){return{w:this._w,h:this._h}}},{key:'_gridProps',get:function get(){return _extends({hue:this._hue,selected:this._selected},this._props)}},{key:'_valueGridProps',get:function get(){return _extends({w:1,h:this._area},this._gridProps)}}]),a}();